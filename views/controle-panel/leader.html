<!DOCTYPE html>
<html lang="en">
<head><link rel="stylesheet" href="">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>leader page</title>
    <style>
        /* .main{
            width: 100%;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content:space-between ;
            background-color: bisque;
        } */
        .main>div{
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content:space-between ;
            margin-top: 20px;
            margin-bottom: 20px;
            background-color: cadetblue;
            width: 100%;
        }

        .main>div>div{
            background-color: antiquewhite;
            width: 30%;
            margin-top: 20px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <section class="main">
        <div class="web-committee">
            <!-- <h2>web</h2> -->
            <div class="head">
                <h2>head</h2>
                <a href=""> edit head </a>
            </div>   
      
            
        </div>
        <div class="HR-committee">
            <h2>HR</h2>

            <div class="head">
            </div>   
      
            
        </div>
        <div class="media-committee">
            <h2>media</h2>

            <div class="head">
            </div>   
      
            
        </div>
        <div class="AcMechanical-committee">
            <h2>Ac mechanic</h2>

            <div class="head">
            </div>   
      
            
        </div>
        <div class="AcElectrical-committee">
            <h2>Ac electric</h2>

            <div class="head">
            </div>   
      
            
        </div>
        <div class="markting-committee">
            <h2>marketing</h2>

            <div class="head">
            </div>   
      
            
        </div>
        <div class="Pr-committee">
            <h2>pr </h2>

            <div class="head">
            </div>   
      
            
        </div>
        <div class="OC-committee">
            <h2>Oc</h2>

            <div class="head">
            </div>   
      
            
        </div>

    </section>
    


    <script>
    
        function addMembersToCommittee(com,member) {
            if(member.role==2){
                document.querySelector(com+' .head').innerHTML+=`
                <li class="name"> head ${member.name} </li>
                <li class="com">${member.committee} </li>
                <li class="email"> ${member.email}</li>
                <li class="phone number"> ${member.number}</li>
                <li class="role">${member.role} </li>`
            }else{
            document.querySelector(com).innerHTML+=`
                <div class="member">
                <li class="name">member ${member.name} </li>
                <li class="com">${member.committee} </li>
                <li class="email"> ${member.email}</li>
                <li class="phone number"> ${member.number}</li>
                <li class="role">${member.role} </li>
                </div>
            `
            }
        }
        onload=async function () {
            //https://assiut-robotics-website.onrender.com/
            //http://localhost:3000/
            const res=await fetch("https://assiut-robotics-website.onrender.com/members/getAllMembers");
            if(res.ok){
                const response=await res.json();

                response.data.members.forEach(member => {
                    switch (member.committee) {
                        case 'web':
                            addMembersToCommittee(".web-committee",member)
                            break;
                        case 'HR':
                            addMembersToCommittee(".HR-committee",member)

                            break;
                        case 'AC mechanic':
                            addMembersToCommittee(".AcMechanical-committee",member)

                            break;
                        case 'AC electric':
                            addMembersToCommittee(".AcElectrical-committee",member)

                            break;
                        case 'PR':
                            addMembersToCommittee(".Pr-committee",member)

                            break;
                        case 'marketing':
                            addMembersToCommittee(".markting-committee",member)

                            break;
                        case 'media':
                            addMembersToCommittee(".media-committee",member)

                            break;
                        
                        case 'OC':
                            addMembersToCommittee(".OC-committee",member)

                            break;
                    
                        default:
                            break;
                    }
                  
                });
            }

        }
    </script>
</body>
</html>